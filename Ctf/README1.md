# 坑 一（ 开发者的软件抢占c盘）

* 1 win+R打开运行窗口

* 2 在运行窗口中输入regedit，打开注册表编辑器

* 3 在注册表编辑器中找到HKEY_LOCAL_MACHINE\Software\Microsoft\ Windows\ CurrentVersion路径

* 5 双击打开，修改键值c为d，确定

* 6 退出注册表编辑器，日后在进行软件安装时，默认路径就会安装在d盘的ProgramFiles文件下

# 坑二 （对抗中成长

1+X网络安全评估认证考核平台

OSI
开放系统互连参考模型 (Open System Interconnect 简称OSI）是国际标准化组织(ISO)和国际电报电话咨询委员会(CCITT)联合制定的开放系统互连参考模型，为开放式互连信息系统提供了一种功能结构的框架。
七层简介
从低到高分别是：物理层、数据链路层、网络层、传输层、会话层、表示层和应用层。

物理层（PhysicalLayer）

规定通信设备的机械的电气的功能和特性。
数据的单位称为比特（bit）。
典型规范代表包括：RJ-45、V.35。
特点：看得见，摸得着。
设备：同轴电缆、双绞线、集线器（hub），中继器，光纤，光猫等
网络拓扑：总线拓扑、环型拓扑、星型拓扑
数据链路层（DataLinkLayer）

在物理层提供的比特流服务的基础上，建立相邻节点之间的数据链路，通过差错控制提供数据帧在信道上无差错传输。
在不可靠的物理介质上提供可靠的传输。
数据的单位称为帧（frame）。
代表：SDLC、PPP、STP、帧中继。
设备：网桥，交换机，网卡
通信方式：单工、半双工、全双工
其他：mac地址
网络层

分组转发数据：将数据链路层提供的帧组成数据包，包中封装有网络层包头。
实现拥塞控制、网际互联。
数据的单位称为数据包（packet）
代表：IP、OSPF、RIP、ICMP
设备：路由器，防火墙
传输层

建立连接，处理数据包错误以及次序。
数据的单位也是包（packet），但是在TCP协议中的数据单元称为段（segments），UDP协议的数据单元称为数据报（datagrams）。
代表：TCP、UDP、SPX。
会话层

建立连接并提供访问验证和会话管理等，不参与具体传输。
数据的单位统称报文。
表示层

提供数据格式转换服务，如数据的压缩和解压缩，加密解密
应用层

为操作系统或网络应用提供访问网络服务的接口。
代表：Telnet、FTP、HTTP
其他知识
集线器和交换机的异同：

都是用于连接多个设备，都可以转发数据。
端口的数量不同，集线器端口较少，常见的有4口，交换机端口较多，常见24口、48口。
转发数据方式不同，集线器采用的是广播的方式，他会将信息转发给除了发送端口以外的所有端口，所有相连的设备都能收到信息，所以不利于信息的保密。交换机则是根据设备的 MAC 地址进行转发数据，只与发送源和接受源发生关系，从而可以达到防止数据丢失和提高吞吐量的目的。
集线器属于osi第一层，交换机属于osi第二层。交换机的性能优于集线器，随着技术进步，集线器已经慢慢退出市场。
osi1

tcpip

osi2

TCP/UDP
都属于传输层协议。TCP（Transmission Control Protocol ）提供IP环境下的数据可靠传输，它提供的服务包括数据流传送、可靠性、有效流控、全双工操作和多路复用。通过面向连接、端到端和可靠的数据包发送。通俗说，它是事先为所发送的数据开辟出连接好的通道，然后再进行数据发送； UDP（User Datagram Protocol ）则不为IP提供可靠性、流控或差错恢复功能。
应用协议
TCP：Telnet远程终端协议、FTP文件传输协议、SMTP简单邮件传输协议
UDP：NFS网络文件系统、DNS主域名称系统、TFTP通用文件传输协议
三次握手建立通信
三次握手
①客户端 A 发送一个SYN（synchronous）标志，这是一个同步请求，表明客户端 A 想与服务端 B 建立通信。
②接收到请求的服务端 B 将会回复一个 ACK（acknowledgement）标志表示确认，同时还会向客户端 A 发送一个 SYN 标志，询问客户端 A 是否要与自己建立通信，因为 TCP 协议是双全工，连接是双向的，所以需要建立两个连接。
③客户端 A 再次发送 ACK 标志的数据包，接受来自服务端 B 的连接请求。
经过三次握手后，双向通信建立，应用程序之间就可以互传数据包了，在互传的过程中，所有的数据包都会加上 ACK 标志，表示确认收到了先前的数据包。
在建立连接的三次握手中，第二步的 SYN 和 ACK 标志可以一起设置，是因为此时连接还未成功建立，还没有数据传输。
四次挥手终止通信
四次挥手
①客户端 A 发送一个FIN（ finish ）标志到服务端 B，请求关闭 A 到 B 方向的连接。
②服务端 B 收到 FIN 请求后，回复一个 ACK 标志表示确认关闭 A 到 B 的连接。
③服务端 B 请求关闭 B 到 A 方向的连接，发送一个 FIN 标志给客户端 A。
④客户端 A 回复一个 ACK 标志给服务端 B ，从 B 到 A 的连接被关闭。
在断开连接的四次挥手中，第二步的 ACK 标志和第三步的 FIN标志不能合并到一起，是因为从 B 到 A 的方向还有数据传输，服务端 B 将在数据传输完毕后，再向客户端 A 发送 FIN 请求关闭连接。
操作系统
终端安全防护
最小化安装：非必要 不安装
系统配置安全：账户控制，密码策略，补丁，登录选项，远程连接等。
准入控制：网络设备准入、业务系统准入、资源访问准入
可信软件
恶意代码防范：恶意脚本，入侵，木马，杀毒
网络监控：接入、认证、流量、入侵、进程
终端安全监控：关键进程、重要文件、注册表、特权用户、网络访问、系统资源
安全态势监控：补丁、安全策略、终端进程、访问、接入
Linux系统安全
安全基线
是否最新补丁

是否修改banner

banner命令的作用是输出图形字符，安装：sudo apt-get install sysvbanner ，使用：banner hello，在线生成：online
一般的linux发行版中/etc/issue里存放了用户成功登录前显示的信息；/etc/motd存放了用户成功登录后显示的信息，而Ubuntu会输出/var/run/motd.dynamic 中的信息，motd.dynamic 中的信息是用户登录时系统已root身份自动执行/etc/update-motd.d/ 下面的几个脚本所生成的。
有无无关账户：删除或禁用临时、过期及可疑的帐号，防止被非法利用。

查看所有用户的三种方式：查看/etc/passwd文件 、 getent passwd 、 compgen -u
/etc/passwd文件三个部分：root用户信息 、 系统定义的账号信息 、 真实用户的账户信息
有无密码复杂度策略：设置有效的密码策略，防止攻击者破解出密码

/etc/pam.d/system-auth 或 /etc/security/pwquality.conf 文件，Ubuntu配置在/etc/pam.d/common-password
有无密码有效期策略

/etc/login.defs文件中指定配置项，其中：

PASS_MAX_DAYS配置项决定密码最长使用期限；
PASS_MIN_DAYS配置项决定密码最短使用期限；
PASS_WARN_AGE配置项决定密码到期提醒时间。
有无锁定策略

多余账号锁定：etc/password中账户的shell域中为nologin表示锁定，删除nologin后表示解锁，解锁原密码无效，需要重新设置。
有无不必要服务：根据每台机器的不同角色，关闭不需要的系统服务。操作指南中的服务项提供参考，根据服务器的角色和应用情况对启动项进行修改。如无特殊需要，应关闭Sendmail、Telnet、Bind等服务。

是否开启telnet

是否限制root远程登录

修改/etc/ssh/sshd_config文件，将PermitRootLogin yes改为PermitRootLogin no，重启sshd服务sudo service sshd restart。
是否限制su使用

是否配置访问规则：对接入服务器的IP、方式等进行限制，可以阻止非法入侵。

是否配置超时锁定：设置登录超时时间，释放系统资源，也提高服务器的安全性。

是否设置重要文件权限：根据安全需要，配置某些关键目录其所需的最小权限

是否控制缺省访问权限：当在创建新文件或目录时应屏蔽掉新文件或目录不应有的访问允许权限,防止同属于
该组的其它用户及别的组的用户修改该用户的文件或更高限制。

全局配置：/etc/bashrc文件
指定用户：~/.bash_profile文件
是否配置审计策略及文件权限：启审核策略，若日后系统出现故障、安全事故则可以查看系统日志文件，排除故障、追查入侵者的信息等。

是否配置日志策略及文件权限

/etc/syslog.conf查看是否有对应配置
/var/log/secure查看是否有对应配置，应记录有需要的设备相关的安全事件。
是否限制单个用户资源限度

是否配置HA及备份机制

是否集中日志存储及专门处理

禁用Control-Alt-Delete键盘关闭命令

/etc/inittab查看配置,注释掉ca::ctrlaltdel:/sbin/shutdown -t3 -r now，更新配置 /sbin/init q，使得在控制台直接按ctl-alt-del不能重新启动计算机。
密码破解
在 /etc/shadow查看密码，

文件格式是： {用户名}：{加密后的口令密码}：{口令最后修改时间距原点(1970-1-1)的天数}：{口令最小修改间隔(防止修改口令，如果时限未到，将恢复至旧口令)：{口令最大修改间隔}：{口令失效前的警告天数}：{账户不活动天数}：{账号失效天数}：{保留}

加密的口令密码格式是 ：$id$salt$encrypted ,例如$6$Bnozpdp.D4ig3Z89$9UqASlUL3i5RVlVFgZgIQ0mwhw7kL9Ks2eRH8Qdt/hyXil4fb9BzhBEjoOvPQjMax6fmtcdg8qA2/Ay9AXMQU。

id为1时，采用md5算法加密
id为5时，采用SHA256算法加密
id为6时，采用SHA512算法加密
salt为盐值,是对密码进行hash的一个干扰值
encrypted为散列值
破解工具：Hashcat（Win）或者John the Ripper（全平台）等。

题目
知其然知其所以然。
使用excel整理，在ANKI上记忆复习使用。
问题	答案	注释
扫描发现某一个主机开放了25端口和110端口，此主机最有可能是（ ）。	邮件服务器	25端口为SMTP（Simple Mail Transfer Protocol，简单邮件传输协议）服务器所开放，主要用于发送邮件。 109端口是为POP2（Post Office Protocol Version 2，邮局协议2）服务开放的，110端口是为POP3（邮件协议3）服务开放的，POP2、POP3都是主要用于接收邮件的，目前POP3使用的比较多，许多服务器都同时支持POP2和POP3。
国家建立网络安全监测预警和信息通报制度。国家网信部门应当（ ）有关部门加强网络安全信息收集、分析和通报工作，按照规定统一发布网络安全监测预警信息。	统筹协调	

 $target= $_REQUEST[‘ip’];$cmd = shell_exec( ‘ping ‘.$target );上述PHP代码可能存在哪种漏洞?	命令执行	命令执行漏洞：应用有时需要调用一些执行系统命令的函数，当服务器没有严格过滤用户提供的参数时，就有可能导致用户提交恶意代码被服务器执行，从而造成命令执行漏洞。形成原因：代码层过滤不严；系统的漏洞造成命令注入；调用的第三方组件存在代码执行漏洞。 代码执行漏洞：由于服务器对危险函数过滤不严，导致用户输入的一些字符串可以被转换成代码来执行，从而造成代码执行漏洞。形成原因：用户能够控制函数输入；存在可执行代码的危险函数。 代码注入攻击指的是任何允许攻击者在网络应用程序中注入源代码，从而得到解读和执行的方法。这并不适用于对应用程序客户端的代码注入攻击，例如 Javascript，那属于跨站脚本攻击（XSS）。
Order by函数在SQL注入里一般用来查询( )	字段长度	
渗透测试中常用的AWVS软件，其主要功能是（）。	漏洞扫描	Acunetix Web Vulnerability Scanner（简称AWVS）是一款知名的网络漏洞扫描工具，它通过网络爬虫测试你的网站安全，检测流行安全漏洞
攻击防范功能是防火墙的重要特性之一，通过分析报文的内容特征和行为特征判断报文是否具有攻击特性，并且对攻击行为采取措施以保护网络主机或网络设备。其中：针对UDP Flood攻击的防御方法是（）。	指纹学习	由于UDP是不可靠的网络协议，传输速度很快也得到了广泛应用，也为发动UDP Flood攻击提供了平台。UDP Flood属于带宽类攻击，通过僵尸网络向目标服务器发起大量的UDP报文，这种UDP报文通常为大包，且速率非常快，通常会消耗网络带宽资源，严重时造成链路拥塞。导致依靠会话转发的网络设备，性能降低甚至会话耗尽，从而导致网络瘫痪。 防火墙上针对UDP Flood的限流有三种：基于目的IP地址的限流；基于目的安全区域的限流；基于会话的限流； 限流虽然可以有效缓解链路带宽的压力，但是这种方式简单粗暴，容易对正常业务造成误判。为了解决这个问题，防火墙又进一步推出了针对UDP Flood的指纹学习功能。 指纹学习是通过分析客户端向服务器发送的UDP报文载荷是否有大量的一致内容，来判定这个UDP报文是否异常。防火墙对到达指定目的地的UDP报文进行统计，当UDP报文达到告警阈值时，开始对UDP报文的指纹进行学习。如果相同的特征频繁出现，就会被学习成指纹，后续命中指纹的报文判定这是攻击报文，作为攻击特征进行过滤。 火墙防御UDP Flood攻击主要有两种方式：限流和指纹学习，两种方式各有利弊。限流方式属于暴力型，可以很快将UDP流量限制在一个合理的范围内，但是不分青红皂白，超过就丢，可能会丢弃一些正常报文；而指纹学习属于理智型，不会随意丢弃报文，但是发生攻击后需要有个指纹学习的过程。目前，指纹学习功能是针对UDP Flood攻击的主流防御手段
HTTP Flood攻击防御方法:HTTP重定向 UDP Flood攻击防御方法:指纹学习 SYN Flood攻击防御方法: TCP代理、TCP源探测		
网络运营者应当制定网络安全事件（ ），及时处置系统漏洞、计算机病毒、网络攻击、网络侵入等安全风险;在发生危害网络安全的事件时，立即启动应急预案，采取相应的补救措施，并按照规定向有关主管部门报告。	应急预案	
在Windows Server系列操作系统中，3389端口提供的是	远程桌面	
渗透测试过程的第五个阶段是渗透攻击阶段，在本阶段中的活动不包括	基础设施分析	
在执行一个组织的渗透测试时什么是最重要的步骤？	获得书面法律允许这样做	
勒索病毒主要利用的是哪个系统漏洞进行网络攻击的	MS17-010漏洞	
以下哪项不是渗透测试报告的典型部分？	确定问题的缓解指导	
passwd文件中的记录:god;x:0:0:/home/god:/bin/bash，其中x表示（）。	该账户有密码保护	
网络产品、服务应当符合相关国家标准的( )要求。	强制性	
国家建立和完善网络安全标准体系( )和国务院其他有关部门根据各自的职责，组织制定并适时修订有关网络安全管理以及网络产品、服务和运行安全的国家标准、 行业标准。	国务院标准化行政主管部门	
BurpSuite是用于攻击( )的集成平台。
 
  功能有_____________,没有_____功能。	web 应用程序 暴力破解、加密解密、发现漏洞 网络爬虫	Burp Suite 是用于攻击web 应用程序的集成平台，包含了许多工具。Burp Suite为这些工具设计了许多接口，以加快攻击应用程序的过程。所有工具都共享一个请求，并能处理对应的HTTP 消息、持久性、认证、代理、日志、警报。
HTTP协议中Allow字段主要作用是	通知客户端能够支持哪些方法	实体首部字段Allow，说明资源可支持的HTTP方法
渗透测试是一种通过（）的安全测试方法	模拟攻击技术	
（ ）是渗透测试的主要目的。	

国家支持企业、研究机构、高等学校、网络相关行业组织参与网络安全国家标准、( )的制定。	行业标准	
关于以下函数描述正确的是( )。 A、shell_exec()函数返回执行结果的最后—行数据 B、assert()函数作用与eval()函数相同 C、exec()函数返回执行结果的全部数据 D、eval()函数将输入的内容作为系统命令执行	B	shell_exec()函数是PHP中的一个内置函数，用于通过shell执行命令并以字符串的形式返回完整的输出. exec()函数是PHP中的内置函数，用于执行外部程序并返回输出的最后一行。如果没有正确运行命令，它也返回NULL。 val() 函数把字符串按照 PHP 代码来计算。该字符串必须是合法的 PHP 代码，且必须以分号结尾。
（）型XSS主要用于将恶意脚本附加到URL地址参数中	反射	XSS的三种基本类型： 反射型XSS：<非持久化> 攻击者事先制作好攻击链接, 需要欺骗用户自己去点击链接才能触发XSS代码（服务器中没有这样的页面和内容），一次性，所见即所得，一般容易出现在搜索页面。 存储型XSS：<持久化> 代码是存储在服务器中的。 DOM型XSS：基于文档对象模型Document Objeet Model，DOM)的一种漏洞。DOM是一个与平台、编程语言无关的接口，它允许程序或脚本动态地访问和更新文档内容、结构和样式，处理后的结果能够成为显示页面的一部分。
状态检测防火墙针对不同协议报文创建会话表的时机：UDP是同一个连接的（）UDP报文通过时创建会话	第一个	ICMP:ICMP回显请求报文通过时创建会话，其它ICMP报文通过时不创建会话。 TCP:SYN报文通过时创建会话 UDP:同一个连接的第一个UDP报文通过时创建会话 其它:RAWIP(即IP Protocol字段没有值）报文、OSPF、RIP和ISIS路由协议报文、IGMP(组播）报文均不创建会话
（ ）函数经常使用在时间盲注中。	sleep	基于时间型SQL盲注中，使用IF（查询语句，1，sleep（5）），即如果查询语句为真，那么直接返回结果；如果查询语句为假，那么过5秒之后返回页面。所以我们就根据返回页面的时间长短来判断我们的查询语句是否执行正确。sleep() 函数代码执行延迟若干秒。
国家网信部门协调有关部门建立健全网络安全风险评估和应急工作机制，制定网络安全事件应急预案，并定期组织( )。	演练	
  HTTP首部字段里，请求字段的User-Agent表示	客户端操作系统，浏览器等其他信息	
关键信息基础设施的运营者采购网络产品和服务，可能影响( )的，应当通过国家网信部门会同国务院有关部门组织的国家安全审查。	国家安全	
文件包含漏洞：为使代码更灵活而将包含的文件设置为变量则可能导致包含漏洞		文件包含漏洞： 简介： 服务器执行PHP文件时，可以通过文件包含函数加载另一个文件中的PHP代码，并且当PHP来执行，这会为开发者节省大量的时间。这意味着您可以创建供所有网页引用的标准页眉或菜单文件。当页眉需要更新时，您只更新一个包含文件就可以了，或者当您向网站添加一张新页面时，仅仅需要修改一下菜单文件（而不是更新所有网页中的链接）。 文件包含函数： require()、require_once()、include()、include_once() include和require区别主要是，include在包含的过程中如果出现错误，会抛出一个警告，程序继续正常运行；而require函数出现错误的时候，会直接报错并退出程序的执行。 而include_once()，require_once()这两个函数，与前两个的不同之处在于这两个函数只包含一次，适用于在脚本执行期间同一个文件有可能被包括超过一次的情况下，你想确保它只被包括一次以避免函数重定义，变量重新赋值等问题。 漏洞产生原因： 文件包含函数加载的参数没有经过过滤或者严格的定义，可以被用户控制，包含其他恶意文件，导致了执行了非预期的代码。
使用单独的服务器存放上传的文件方式不够妥当		
    Metasploit框架中的最核心的功能组件是	Exploits	Metasploit是一款开源的安全漏洞检测工具，可以帮助安全和IT专业人士识别安全性问题，验证漏洞的缓解措施，并管理专家驱动的安全性进行评估，提供真正的安全风险情报。这些功能包括智能开发，代码审计，Web应用程序扫描，社会工程。团队合作，在Metasploit和综合报告提出了他们的发现。 show exploits显示漏洞利用模块； show auxiliary显示辅助模块，一般是扫描、拒绝服务、Fuzz测试； show options显示当前模块需要的参数； show payloads显示当前模块支持的载荷； show targets显示能被漏洞利用的主机类型； info显示当前模块的完整详细信息。
是表单标签； “action”属性，用于定义服务器处理表单的文件； <input type="file" name="filename"/>，点击上传按钮时，表单会将上传的文件发送到指定文件； 、 标签的“method”属性，用于定义使用何种方法发送数据，有get和post两种方式；
Form标签的属性method的默认值为get。	


IPSec协议中负责对IP数据报加密的部分是（）。	封装安全负载（ESP）	IPsec，是一个协议包，通过对IP协议的分组进行加密和认证来保护IP协议的网络传输协议族。IPSec VPN支持外部单点对内部网络、 IPSec VPN不仅可以认证双方身份，还可以实现加密。 Psec主要由以下协议组成：认证头（AH）、封装安全载荷（ESP）、安全关联（SA）密钥协议（IKE）；AH无法穿越Nat，ESP则从理论上是可以穿越Nat的。 两种模式的区别在于 IP 数据报的 ESP 负载部分的内容不同。 隧道（tunnel）模式：隧道模式保护所有 IP 数据并封装新的 IP 头部，不使用原始 IP 头部进行路由。 传输（transport）模式：传输模式保护原始 IP 头部后面的数据，在原始 IP 头和 payload 间插入 IPSec 头部（ESP 或 AH）。
渗透测试过程的后渗透攻击阶段，不包括（）。 A、 掠夺敏感信息 B、 掩踪灭迹 C、 精准打击 D、 业务影响攻击	C	
某系统被攻击者入侵，初步怀疑为管理员帐号存在弱口令，攻击者从远程终端以管理员身份登录进系统进行了相应的破坏，验证此事应查看（ ）。	安全日志	
触犯新刑法第285条规定的非法入侵计算机系统罪可判处（ ）。	三年以下有期徒刑或拘役	


HTTP首部字段里，响应字段在的（）表示:引导用户转向与请求URI不同的资源。	Location	

关于HTML事件的叙述，错误的是（ )。 A、 onkeypress当按下键盘执行脚本 B、 onclick鼠标点击执行脚本 C、 onkeyup松开键盘执行脚本 D、 onerror当错误执行脚本	A	onkeydown–在用户按下一个按键时执行脚本： onkeyup–当用户释放按键时触发 onkeypress–在用户敲击按钮时触发 onclick–元素上发生鼠标点击时触发 onerror–在错误发生时运行的脚本

工程师对客户的网络执行渗透测试，并且愿意使用工具协助自动执行常见的漏洞利用。下列哪个安全工具能更好地满足她的需要？（ ） A、 Sniffer B、 Nessus C、 Nmap D、 Metasploit	D	Sniffer，中文可以翻译为嗅探器，也叫抓数据包软件，是一种基于被动侦听原理的网络分析方式。 Nessus 是目前全世界最多人使用的系统漏洞扫描与分析软件。 nmap是一个网络连接端扫描软件，用来扫描网上电脑开放的网络连接端。确定哪些服务运行在哪些连接端，并且推断计算机运行哪个操作系统（这是亦称 fingerprinting）。它是网络管理员必用的软件之一，以及用以评估网络系统安全。 Metasploit是一个免费的、可下载的框架，通过它可以很容易地获取、开发并对计算机软件漏洞实施攻击。它本身附带数百个已知软件漏洞的专业级漏洞攻击工具。
IPSec中能够提供完整性与认证功能的协议是（）。	AH	认证头（AH），为IP数据报提供无连接数据完整性、消息认证以及防重放攻击保护；
HTTP协议中”content-type”字段主要作用是（）。	说明实体主体部分对象的媒体类型	

（）属于网络操作系统。	WindowsNT操作系统	网络操作系统 ，是一种能代替操作系统的软件程序，是网络的心脏和灵魂，是向网络计算机提供服务的特殊的操作系统。借由网络达到互相传递数据与各种消息，分为服务器（Server）及客户端（Client）。
一个中心、三维防护是指（ ）。 A、 安全管理中心、计算环境安全、区域边界安全、通信边界安全、 B、 区域边界中心、计算环境安全、计算管理安全、网络安全 C、 安全管理中心、计算环境安全、区域边界安全、通信网络安全 D、 计算管理中心、计算环境安全、通信边界安全、网络安全	C	
下列不是网站存在XSS漏洞的原因是（ ）。 

A、 网站对用户输入的数据未作过滤 B、 网站存在可供用户输入的交互模式 C、 网站对输出的数据未做处理 D、 网站未对用户下的敏感操作进行二次校验	D	
网络相关行业组织按照章程，加强行业自律，( ),指导会员加强网络安全保护，提高网络安全保护水平，促进行业健康发展。
制定网络安全行为规范	

发生网络安全事件，应当立即启动网络安全事件应急预案，对网络安全事件进行( )和（ ）,要求网络运营者采取技术措施和其他必要措施，消除安全隐患，防止危害扩大，并及时向社会发布与公众有关的警示信息。	调查和评估	《中华人民共和国网络安全法》

Nmap软件是一款渗透测试常用的开源软件，它的功能有（ ）。 A、 拓扑扫描 B、 漏洞扫描 C、 端口扫描 D、 主机扫描	C、 端口扫描 D、 主机扫描	nmap是一个网络连接端扫描软件，用来扫描网上电脑开放的网络连接端。Nmap 常被跟评估系统漏洞软件Nessus 混为一谈。Nmap 以隐秘的手法，避开闯入检测系统的监视，并尽可能不影响目标系统的日常操作。 Nmap包含四项基本功能： 主机发现（Host Discovery） 端口扫描（Port Scanning） 版本侦测（Version Detection） 操作系统侦测（Operating System Detection）

Nmap软件的端口扫描功能主要包括哪几类技术？（ ） （2.0分）2.0 分 A、 半隐蔽扫描 B、 开放扫描 C、 隐蔽扫描 D、 半开放扫描	B、 开放扫描 C、 隐蔽扫描 D、 半开放扫描	

SQL注入类型有多种，常见的有（ ）。 A、 字符型注入 B、 存储型注入 C、 数字型注入 D、 时间盲注	A、 字符型注入 C、 数字型注入 D、 时间盲注	参数类型分类：数字型注入；字符型注入； 注入位置分类：GET注入；POST注入；Cookie注入；其他注入：HTTP请求的其他内容触发的SQL注入漏洞； 结果反馈分类：盲注入：盲注入不会展现任何数据库报错内容，它是依据构造真或假的问题对数据库进行“提问”，注入方式主要有两种：基于布尔值与基于时间。 其他类型： 延时注入：使用延时函数方式； 搜索注入：注入点在搜索框中； 编码注入：将输入的字符串进行编码，如base64编码； 堆查询注入：同时执行多条语句； 联合查询注入：使用union操作码合并两条或多条SQL语句； 多阶注入：由多个HTTP请求响应共同完成的注入；

《中华人民共和国网络安全法》第27条规定： 任何个人和组织不得提供专门用于从事侵入网络、干扰网络正常功能及防护措施、窃取网络数据等危害网络安全活动的___________。违反本条规定，尚不构成犯罪的，由公安机关没收违法所得，处5日以下拘留，可以并处5万元以上50万元以下罚款;情节较重的，处5日以上15日以下拘留，可以并处10万元以上100万元以下罚款。	程序、工具	
下列对windows系统日志的描述，正确的是（ ）？ 
A、 windows系统默认有三个日志，系统日志、应用程序日志、安全日志 B、 应用日志跟踪应用程序关联的事件，例如应用程序产生的装载DLL（动态链接库）失败的信息 C、 安全日志跟踪各类网络入侵事件，例如拒绝服务攻击、口令暴力破解等 D、 系统日志跟踪各种各样的系统事件，例如跟踪系统启动过程中的事件，或者硬件和控制器的故障	ABD	系统安全日志就是每次开关机、运行程序、系统报错时，这些信息都会被记录下来，保存在日志文件中。而日志文件会随着时间的增长而越集越多，从而影响系统速度。
HTTP首部字段中的Host、Date、Allow、Server	请求字段中的Host表示请求资源的主机和端口号 通用字段中的Date表示创建报文的日期时间 实体字段中的Allow表示通知客户端能够支持的HTTP方法 响应字段中的Server表示服务器所使用的Web服务名字	
终端安全面临的安全问题	0day漏洞 操作系统漏洞与软件漏洞 APT攻击 网络木马病毒	0day漏洞，又称“零日漏洞”(zero-day)，是已经被发现(有可能未被公开)，而官方还没有相关补丁的漏洞。通俗地讲就是，除了漏洞发现者，没有其他的人知道这个漏洞的存在，并且可以有效地加以利用，发起的攻击往往具有很大的突发性与破坏性。 APT（Advanced Persistent Threat）攻击，即高级可持续威胁攻击,也称为定向威胁攻击，指某组织对特定对象展开的持续有效的攻击活动。这种攻击活动具有极强的隐蔽性和针对性,通常会运用受感染的各种介质、供应链和社会工程学等多种手段实施先进的、持久的且有效的威胁和攻击。
防火墙的典型功能包括（）。 
   A、 地址转换 B、 服务代理 C、 攻击检测和防御 D、 传输安全(VPN)	ABCD	
   所谓“防火墙”是指一种将内部网和公众访问网（如Internet）分开的方法，它实际上是一种建立在现代通信网络技术和信息安全技术基础上的应用性安全技术，隔离技术。越来越多地应用于专用网络与公用网络的互联环境之中，尤其以接入Internet网络为最甚。
HTTP 首部字段根据实际用途被分为_____种类型：	通用字段、响应字段、请求字段、实体字段	HTTP 协议的请求和响应报文中必定包含 HTTP 首部，首部字段是为了给浏览器和服务器提供报文主体大小、所使用的语言、认证信息等内容。 在请求中，HTTP 报文由方法、URI、HTTP 版本、HTTP 首部字段等部分构成。 在响应中，HTTP 报文由 HTTP 版本、状态码（数字和原因短语）、HTTP 首部字段 3 部分构成。 HTTP 首部字段根据实际用途被分为以下 4 种类型： 通用首部字段（General Header Fields）:请求报文和响应报文两方都会使用的首部。 请求首部字段（Request Header Fields）:从客户端向服务器端发送请求报文时使用的首部。补充了请求的附加内容、客户端信息、响应内容相关优先级等信息。 响应首部字段（Response Header Fields）:从服务器端向客户端返回响应报文时使用的首部。补充了响应的附加内容，也会要求客户端附加额外的内容信息。 实体首部字段（Entity Header Fields）:针对请求报文和响应报文的实体部分使用的首部。补充了资源内容更新时间等与实体有关的信息。
操作系统漏洞被利用的危害，包括（）。 A、 获取OS信息 B、 破坏硬件 C、 获取访问权限 D、 远程控制	ACD	

 关于代码执行漏洞，描述正确的是（ ）。 A、 依靠执行脚本代码调用操作系统命令 B、 直接调用操作系统命令 C、 代码执行相关函数如PHP的eval函数、Python的exec函数等 D、 应用程序在调用一些能够将字符串转换为代码的函数时，没有考虑用户是否控制这个字符串，将造成代码执行漏洞。	ACD	命令执行漏洞：应用有时需要调用一些执行系统命令的函数，当服务器没有严格过滤用户提供的参数时，就有可能导致用户提交恶意代码被服务器执行，从而造成命令执行漏洞。形成原因：代码层过滤不严；系统的漏洞造成命令注入；调用的第三方组件存在代码执行漏洞。 代码执行漏洞：由于服务器对危险函数过滤不严，导致用户输入的一些字符串可以被转换成代码来执行，从而造成代码执行漏洞。形成原因：用户能够控制函数输入；存在可执行代码的危险函数。 代码注入攻击指的是任何允许攻击者在网络应用程序中注入源代码，从而得到解读和执行的方法。这并不适用于对应用程序客户端的代码注入攻击，例如 Javascript，那属于跨站脚本攻击（XSS）。

  Linux系统安全配置包括（ ）。 A、 禁用不需要的服务 B、 配置账户密码策略 C、 启用telnet登录 D、 及时升级补丁程序	ABD	取消Telnet登录采用SSH方式并更改ssh服务端远程登录的配置 1）Telnet登录协议是明文不加密不安全，所以采用更安全的SSH协议。 2）更改ssh服务端远程登录相关配置。 关闭系统不需要的服务 有些系统装了很多不需要的服务，这些不必要的服务有时候也会启动运行，一方面运行占用系统资源，另一方面容易造成安全隐患，可以选择关闭。 打内核补丁 没有任何系统没有bug及绝对安全，linux也是，多打内核补丁，增强内核的安全性。 用户管理相关 1）删除不必要的用户和用户组。 2）用户密码管理 在文件/etc/login.defs中设置密码相关参数
防火墙的包过滤技术中，关于包过滤规则匹配流程的描述，错误的是（）。 A、 用户应该慎重设置默认规则。 B、 如果符合其中的一条规则，则按照相应的规则处理该数据包（允许或拒绝），终止匹配。规则次序很关键，要把特殊的规则放在前端，把相对不特殊的规则放在后端。 C、 提取数据包的相关信息，按照从头到尾的顺序，与规则表中的规则进行比较。 D、 默认规则位于规则列表首部。	错误：D、 默认规则位于规则列表首部。	包过滤防火墙将对每一个接收到的包做出允许或拒绝的决定。具体地讲，它针对每一个数据包的包头，按照包过滤规则进行判定，与规则相匹配的包依据路由信息继续转发，否则就丢弃。包过滤是在IP层实现的，包过滤根据数据包的源IP地址、目的IP地址、协议类型（TCP包、UDP包、ICMP包）、源端口、目的端口等包头信息及数据包传输方向等信息来判断是否允许数据包通过。
防火墙能够防范的网络攻击类型主要是（）。 A、 欺骗攻击 B、 缓冲区溢出攻击 C、 DoS/DDoS D、 木马攻击	C	欺骗攻击：网络欺骗的技术主要有：HONEYPOT和分布式HONEYPOT、欺骗空间技术等。主要方式有：IP欺骗、ARP欺骗、DNS欺骗、WEB欺骗、电子邮件欺骗、源路由欺骗（通过指定路由，以假冒身份与其他主机进行合法通信或发送假报文，使受攻击主机出现错误动作）、地址欺骗（包括伪造源地址和伪造中间站点）等。 缓冲区溢出是指当计算机向缓冲区内填充数据位数时超过了缓冲区本身的容量，溢出的数据覆盖在合法数据上。通过往程序的缓冲区写超出其长度的内容，造成缓冲区的溢出，从而破坏程序的堆栈，使程序转而执行其它指令，以达到攻击的目的。造成缓冲区溢出的原因是程序中没有仔细检查用户输入的参数。可以利用它执行非授权指令，甚至可以取得系统特权，进而进行各种非法操作。 DOS攻击：一台或多台计算机对受攻击服务器的某一个端口发送大量无关的UDP报文，导致整个通道内的正常服务无法进行。 DDOS攻击：大量的肉鸡对服务器的不同端口发送巨型流量的UDP报文，无法通关关闭端口的方式来进行隔离，破坏力极强，严重会造成服务器当机。 计算机木马病毒是指隐藏在正常程序中的一段具有特殊功能的恶意代码，是具备破坏和删除文件、发送密码、记录键盘和攻击Dos等特殊功能的后门程序。完整的木马程序一般由两部分组成：一个是服务器端．一个是控制器端。“中了木马”就是指安装了木马的服务器端程序，若你的电脑被安装了服务器端程序，则拥有相应客户端的人就可以通过网络控制你的电脑。为所欲为。
通过（）方式判断一个网站后端是windows还是linux系统？	通过路径大小写	网站如何辨别系统是window还是linux 可以查看HTTP报头，如果是服务器是IIS，则肯定是Windows。 访问站点错误路径，根据错误提示(未修改的话)判断系统,修改URL里边的某个字母为大写，返回正常就是Windows，返回不正常就是Linux,Linux里边区分大小写，而Windows是不区分的。。如果是Apache、Nginx或其它，则无法通过此方法判断。这时我们可以ping、traceroute服务器，根据默认TTL判断服务器系统。一般来说各系统的默认TTL：Linux：64；Windows：128；Unix：255.当然这种方法也不准确，服务器管理员可以出于安全考虑修改默认TTL，网站使用了CDN得到的是CDN节点信息，无法得知服务器实际使用的系统。 这只是些简单的方法，还能使用Nmap、Xprobe2、P0F之类的软件判断。
（）犯罪行为不属于我国刑法规定的与计算机有关的犯罪行为。	窃取国家秘密	
网络产品、服务具有（ ）功能的，其提供者应当向用户明示并取得同意；涉及用户个人信息的，还应当遵守本法和有关法律、行政法规关于个人信息保护的规定。	

收集用户信息	
操作系统日志的功能不包括（）。 A、 评估审计 B、 故障处理 C、 系统还原 D、 溯源追踪	C	
于PHP文件包含利用方法，错误的是（ ）。 A、 文件包含漏洞常可以配合文件上传漏洞共同利用 B、 利用php://input伪协议需开启allow_url_include配置 C、 远程文件包含需服务器开启allow_url_fopen配置 D、 利用文件包含漏洞需被包含文件为.php格式	D	
渗透测试过程的第五个阶段是渗透攻击阶段，在本阶段中的活动不包括（）。 A、 渗透代码测试 B、 基础设施分析 C、 绕过防御机制 D、 定制渗透攻击路径	B、 基础设施分析	


渗透测试过程分为7个阶段，其中第一阶段是	前期交互阶段	渗透测试通常分为有7个阶段 如下所示 1. 前期的交互阶段，该阶段通常是用来确定渗透测试的范围和目标 2. 信息搜集阶段，该阶段需要采用各种方法来收集目标主机的信息 包括使用社交媒体等网络信息范围内的已知事物，Google Hacking技术，目标系统踩点等。 3. 威胁的建模阶段，该阶段主要是使用信息搜集阶段所获得的信息，来标识目标系统有存在可能存在的安全漏洞与弱点的方法之一 4. 漏洞分析阶段，该阶段将综合从前面几个环节中获取到的信息，从中分析理解那些攻击和用途径是可行的，特别是需要重点分析端口和漏扫描结果，截获到服务的重要信息，以及在信息收集环节中得到其他关键性的位置信息。 5. 渗透攻击阶段，该阶段可能是存在渗透测试过程中最吸引人的地方，然后在这种情况下，往往没有用户所预想的那么一帆风顺，而是曲径通幽，在攻击目标系统主机时，一定要清晰的了解在目标系统存在这个漏洞，否则，根本无法启动攻击成功的步骤。 6. 后渗透攻击阶段，该阶段在任何一次渗透过程中都是一个关键环节，该阶段将以特定的业务系统作为目标，识别出关键的基础设施，并寻找客户组织罪具有价值和尝试进行安全保护的信息和资产。 7. 报告阶段，报告是渗透测试过程中最重要的因素，使用该报告文档可以交流渗透测试过程中国做了什么，如何做的以及最为重要的安全漏洞和弱点。

网络产品、服务的提供者不得设置( )，发现其网络产品、服务存在安全缺陷、漏洞等风险时，应当立即采取补救措施，按照规定及时告知用户并向有关主管部门报告。	恶意程序	
下列（）不是防火墙的缺陷？ A、 不适合防范数据驱动式攻击 B、 不能防范恶意的外部用户 C、 不能防范全新的安全威胁 D、 不能防范绕过防火墙的连接	B、不能防范恶意的外部用户	


Linux防火墙由两个组件netfilter和iptables组成，iptables包含4个表: raw，mangle，nat，filter，其中优先级最高的是（）。	raw	防火墙技术根据防范的方式和侧重点的不同而分为很多种类型，但总体来讲可分为包过滤防火墙和代理服务器两种类型。 代理服务型防火墙是在应用层上实现防火墙功能的。它能提供部分与传输有关的状态，能完全提供与应用相关的状态和部分传输的信息，它还能处理和管理信息。 包过滤防火墙是用一个软件查看所流经的数据包的包头（header），由此决定整个包的命运。它可能会决定丢弃（DROP）这个包，可能会接受（ACCEPT）这个包（让这个包通过），也可能执行其它更复杂的动作。 netfilter/iptables（简称为iptables）组成 Linux 平台下的包过滤防火墙，与大多数的Linux 软件一样，这个包过滤防火墙是免费的，它可以代替昂贵的商业防火墙解决方案，完成封包过滤、封包重定向和网络地址转换（NAT）等功能。 规则（rules）其实就是网络管理员预定义的条件，规则一般的定义为“如果数据包头符合这样的条件，就这样处理这个数据包”。 链（chains）是数据包传播的路径，每一条链其实就是众多规则中的一个检查清单，每一条链中可以有一条或数条规则。 表（tables）提供特定的功能。 Iptables采用了表和链的分层结构，每个规则表相当于内核空间的一个容器，根据规则集的不同用途划分为默认的四个表，raw表，mangle表，nat表，filter表，每个表容器内包括不同的规则链，根据处理数据包的不同时机划分为五种链，而决定是否过滤或处理数据包的各种规则，按先后顺序存放在各规则链中。 规则表分为以下4种 filter表:用来过滤数据包，我们可以在任何时候匹配包并过滤它们。 nat表:仅用于NAT，也就是转换包的源或目标地址。 mangle表:主要用来处理mangle包，可以使用mangle匹配来改变包的TOS等特性。 raw表：用来决定是否对数据包进行状态跟踪。 规则表的顺序 当数据包抵达防火墙时，将依次应用raw表，mangle表，nat表和filter表中对应链内的规则，应用顺序为raw-mangle-nat-filter 规则链分为以下5种 1）INPUT链：当收到访问防火墙本机地址的数据包（入站），应用此链中的规则。 2）OUTPUT链：当防火墙本机向外发送数据包（出站）时，应用此链中的规则。 3）FORWARD链：当收到需要通过防火墙中转发送给其他地址的数据包（转发）时，应用此链中的规则。 4）PREROUTING链：在对数据包做路由选择之前，应用此链中的规则。 5）POSTROUTING链：在对数据包做路由选择之后，应用此链中的规则。
渗透测试过程的第二个阶段是情报收集阶段，下列信息收集方法，错误的是（）。 A、 信息收集的方法包括DNS探测、操作系统指纹判别、应用判别、账号扫描、配置判别等。 B、 人力情报资源搜集包括合作伙伴/供应商和社会工程 C、 寻找外围入口，包括黑盒Web渗透和邮件服务器 D、 白盒搜集包括场外搜集和场内搜集	B 人力情报资源搜集包括关键雇员、合作伙伴/供应商和社会工程	
网络相关行业组织按照章程，加强行业自律，( ),指导会员加强网络安全保护，提高网络安全保护水平，促进行业健康发展。	制定网络安全行为规范	


下列关于防火墙的描述，错误的是（）。 A、 一般位于路由器后面，交换机前面 B、 防火墙是用于将信任网络与非信任网络隔离的一种技术 C、 防火墙与网络一般是并联关系 D、 防火墙一般位于网络数据流的必经节点	C	
网络渗透测试主要依据CVE(Common Vulnerabilities and Exposures)已经发现的安全漏洞，模拟入侵者的攻击方法对网站应用、服务器系统和网络设备进行非破坏性质的（）测试。	攻击性	


关于命令执行漏洞与代码执行漏洞，描述正确的是（）。 A、 命令执行漏洞与代码执行漏洞─样 B、 命令执行漏洞直接调用操作系统命令，也可叫做OS命令执行 C、 命令执行漏洞与代码执行漏洞毫无关联 D、 代码执行漏洞是靠操作系统命令调用脚本代码命令	B	命令执行漏洞：直接调用操作系统命令 代码执行漏洞：靠执行脚本代码调用操作系统命令 造成的原因是Web服务器对用户输入命令安全检测不足，导致恶意（操作系统命令或脚本代码）被执行。
操作系统漏洞被利用的危害不包括（）。 A、 获取访问权限 B、 远程控制 C、 破坏硬件 D、 获取操作系统信息	C	


某系统被攻击者入侵，初步怀疑为管理员帐号存在弱口令，攻击者从远程终端以管理员身份登录进系统进行了相应的破坏，验证此事应查看（ ）。	安全日志	
下列属于Web服务器的是（）。 A、 Apache B、 IIS C、 PHPStudy D、 Nginx	ABD	Apache HTTP Server（简称Apache）是Apache软件基金会的一个开放源码的网页服务器，可以在大多数计算机操作系统中运行，由于其多平台和安全性被广泛使用，是最流行的Web服务器端软件之一。它快速、可靠并且可通过简单的API扩展，将Perl/Python等解释器编译到服务器中。 phpStudy是一个PHP调试环境的程序集成包。 IIS是Internet Information Server的简称。IIS是与Windows服务器版操作系统一起发放的，这个策略使它成为Windows平台服务器的首选Web服务器。 Nginx是一款轻量级的Web 服务器/反向代理服务器及电子邮件（IMAP/POP3）代理服务器，在BSD-like 协议下发行。其特点是占有内存少，并发能力强。


下列属于网络安全等级保护安全技术措施建设（ ）。 A、 落实安全保护技术措施 B、 制定安全技术建设整改方案 C、 落实系统建设管理制度 D、 落实系统运维管理制度	AB	
SL VPN同IPSec VPN相比，其优势包括（）。 A、 可以定制登录界面，实现个性化配置 B、 采用B/S架构，不需要进行客户端的安装和维护 C、 实现数据加密 D、 可以进一步控制VPN内数据的访问，进行细粒度访问控制	ABD	SSL VPN提供安全、可代理连接，只有经认证的用户才能对资源进行访问。SSL VPN能对加密隧道进行细分，从而使得终端用户能够同时接入Internet和访问内部企业网资源，也就是说它具备可控功能。另外，SSL VPN还能细化接入控制功能，易于将不同访问权限赋予不同用户，实现伸缩性访问；这种精确的接入控制功能对远程接入IPSec VPN来说几乎是不可能实现的。 IPSec VPN通过在两站点间创建隧道提供直接（非代理方式）接入，实现对整个网络的透明访问；一旦隧道创建，用户PC就如同物理地处于企业LAN中。就通常的企业高级用户（Power User）和LAN-to-LAN连接所需要的直接访问企业网络功能而言，IPSec无可比拟。然而，典型的SSL VPN被认为最适合于普通远程员工访问基于Web的应用。SSL VPN不需要在最终用户的PC和便携式电脑上装入另外的客户软件。有些公司之所以选择SSL而不是IPSec，这项不需要客户软件的功能正是一个重要因素。因为最终用户避免了携带便携式电脑，通过与因特网连接的任何设备就能获得访问，SSL更容易满足大多数员工对移动连接的需求。但SSL VPN也有其缺点。业内人士认为，这些缺点通常涉及客户端安全和性能等问题。对E-mail和Intranet而言，SSL VPN是很好；但对需要较高安全级别（SSL VPN的加密级别通常不如IPSec VPN高）、较为复杂的应用而言，就需要IPSec VPN。 IPSec是提供站点到站点连接的首要工具，通过这种连接，你可以在广域网（WAN）上实现基础设施到基础设施的通信。而SSL VPN不需要客户软件的特性有助于降低成本、减缓远程桌面维护方面的担忧。但是，SSL的局限性在于，只能访问通过网络浏览器连接的资源。所以，这要求某些应用要有小应用程序，这样才能够有效地访问。如果企业资产或应用没有小应用程序，要想连接到它们就比较困难。因而，你无法在没有客户软件的环境下运行，因为这需要某种客户软件丰富（Client-Rich）的交互系统。 SSL这种方案可以解决OS客户软件问题、客户软件维护问题，但肯定不能完全替代IPSec VPN，因为他们各自所要解决的是几乎没多少重叠的两种不同问题： 1、SSL优势其实主要集中在VPN客户端的部署和管理上，我们知道SSL无需安装客户端，主要是由于浏览器内嵌了SSL协议，也就是说是基于B/S结构的业务时，可以直接使用浏览器完成SSL的VPN建立；但如果客户的应用系统采用的是C/S结构的话，仍然需要安装Client软件； 2、目前进行VPN部署的用户大部分都是要求对现有业务需要支持的用户，而据统计这样的用户95％以上都有基于C/S架构的重要应用系统，也就是说其“Client软件无需安装”的优势是有很大局限性的； 3、基于B/S结构的安全性劣于基于C/S结构； 4、基于IPSEC的VPN虽然在业务应用基于B/S上没有基于SSL的方便，但在业务应用基于C/S方面却存在很大优势。
下列关于DOM型XSS攻击原理的描述，正确的是（）。 A、 程序执行不依赖于服务器端的数据，从客户端获得DOM中的数据并在本地执行。 B、 客户端的脚本程序可以通过DOM动态地检查和修改页面内容。 C、 浏览器用户可以操纵DOM中的一些对象，例如URL、location等 。 D、 用户在客户端输入的数据如果包含了恶意JavaScript脚本，而这些脚本没有经过适当的过滤和消毒，应用程序就可能受到基于DOM的XSS攻击。	ABCD	XSS的三种基本类型： 反射型XSS：<非持久化> 攻击者事先制作好攻击链接, 需要欺骗用户自己去点击链接才能触发XSS代码（服务器中没有这样的页面和内容），一次性，所见即所得，一般容易出现在搜索页面。 存储型XSS：<持久化> 代码是存储在服务器中的。 DOM型XSS：基于文档对象模型Document Objeet Model，DOM)的一种漏洞。DOM是一个与平台、编程语言无关的接口，它允许程序或脚本动态地访问和更新文档内容、结构和样式，处理后的结果能够成为显示页面的一部分。

下列（）方式可以提升账号的安全性。 （2.5分）0.0 分 A、 配置强密码策略 B、 遵循最小授权原则 C、 权限管理与资源管理统一交给管理员1个人完成 D、 定期修改用户登录密码	ABD	
下列关于Web安全的描述，正确的是（）。 A、 存储的典型安全问题，如SQL注入。 B、 Web开发框架的典型安全问题，如远程命令执行。 C、 Web前端的典型安全问题，如XSS。 D、 Web服务器和容器的典型安全问题，如远程溢出、DDos攻击	ABCD	

虚拟专用网VPN是一种新型的网络安全传输技术，为数据传输和网络服务提供安全通道。VPN架构采用的多种安全机制中，不包括（ ）。 A、 信息隐藏技术 B、 隧道技术 C、 身份认证技术 D、 密钥管理技术	BCD	虚拟专用网络(VPN)的功能是：在公用网络上建立专用网络，进行加密通讯。在企业网络中有广泛应用。VPN网关通过对数据包的加密和数据包目标地址的转换实现远程访问。VPN可通过服务器、硬件、软件等多种方式实现。 VPN的隧道协议主要有三种，PPTP、L2TP和IPSec，其中PPTP和L2TP协议工作在OSI模型的第二层，又称为二层隧道协议；IPSec是第三层隧道协议。
下列关于常见端口和漏洞的描述，正确的是（）。 A、 445——smb、 ms08-067、ms17-010 B、 3389——win远程桌面，弱口令 C、 8080——HTTP，常见web漏洞 D、 22——SSH，看是否存在弱口令	ABD	
下列关于Apache和Tomcat的描述，正确的是（）。 A、 Apache是Web服务器，处理浏览器的HTTP请求 B、 Apache侧重于HTTP Server，Tomcat侧重于Servlet引擎 C、 Apache只支持HTML等静态普通网页，可以单向连通Tomcat (Apache可以访问Tomcat的资源,反之不然) D、 Tomcat是一个Servlet容器（可以认为Apache的扩展），可独立运行，运行在Apache之上	ABCD	Apache HTTP Server（简称Apache）是 Apache 软件基金会的一个开放源码的网页服务器，可以在大多数计算机操作系统中运行. Tomcat 服务器是一个免费的开放源代码的Web 应用服务器，属于轻量级应用服务器，在中小型系统和并发访问用户不是很多的场合下被普遍使用，是开发和调试JSP 程序的首选。对于一个初学者来说，可以这样认为，当在一台机器上配置好Apache 服务器，可利用它响应HTML（标准通用标记语言下的一个应用）页面的访问请求。实际上Tomcat是Apache 服务器的扩展，但运行时它是独立运行的，所以当你运行tomcat 时，它实际上作为一个与Apache 独立的进程单独运行的。 当配置正确时，Apache 为HTML页面服务，而Tomcat 实际上运行JSP 页面和Servlet。另外，Tomcat和IIS等Web服务器一样，具有处理HTML页面的功能，另外它还是一个Servlet和JSP容器，独立的Servlet容器是Tomcat的默认模式。不过，Tomcat处理静态HTML的能力不如Apache服务器。
虚拟专用网（VPN）的协议标准包括（）。 A、 终端访问控制器访问控制系统（TACACS+） B、 Internet安全性（IPsec） C、 点对点隧道协议PPTP D、 第二层隧道协议L2TP	BCD	虚拟专用网络(VPN)的功能是：在公用网络上建立专用网络，进行加密通讯。在企业网络中有广泛应用。VPN网关通过对数据包的加密和数据包目标地址的转换实现远程访问。VPN可通过服务器、硬件、软件等多种方式实现。 VPN的隧道协议主要有三种，PPTP、L2TP和IPSec，其中PPTP和L2TP协议工作在OSI模型的第二层，又称为二层隧道协议；IPSec是第三层隧道协议。


Windows为了实现局域网内部资源的共享而默认打开了445端口，但它却给我们的系统安全带来了隐患。我们可以采取的防范措施包括（）。 A、 禁用server服务 B、 利用防火墙过滤445端口 C、 使用IP安全策略阻止访问本地445端口 D、 安装杀毒软件，防止黑客通过445端口猜解系统用户名和密码	ABC	

下列对windows系统日志的描述，正确的是（ ）？ A、 应用日志跟踪应用程序关联的事件，例如应用程序产生的装载DLL（动态链接库）失败的信息 B、 安全日志跟踪各类网络入侵事件，例如拒绝服务攻击、口令暴力破解等 C、 windows系统默认有三个日志，系统日志、应用程序日志、安全日志 D、 系统日志跟踪各种各样的系统事件，例如跟踪系统启动过程中的事件，或者硬件和控制器的故障	ACD	
XSS存储型跨站可以造成的危害包括（）。 A、 获取用户的密码信息 B、 进行提权操作 C、 向网站植入木马 D、 私自添加管理员账号	ABCD	

以下说法正确的是（）。 A、 00截断可以绕过前端JS检测 B、 If()条件判断无法用于检测文件后缀 C、 对于防御文件上传，黒名单比白名单更有效 D、 对于文件内容检测,没有可行的绕过方法	B	0x00截断：0x00是十六进制表示方法，是ascii码为0的字符，在有些函数处理时，会把这个字符当做结束符。这个可以用在对文件类型名的绕过上。%00是被服务器解码为0x00发挥了截断作用。
关键信息基础设施的运营者采购网络产品和服务，可能影响国家安全的，应当通过国家网信部门会同国务院有关部门组织的（ ）。	国家安全审查	

网络安全等级保护分为（ ）级。	五	① 第一级，等级保护对象受到破坏后，会对公民、法人和其他组织的合法权益造成损害，但不损害国家安全、社会秩序和公共利益; ② 第二级，等级保护对象受到破坏后，会对公民、法人和其他组织的合法权益产生严重损害，或者对社会秩序和公共利益造成损害，但不损害国家安全; ③ 第三级，等级保护对象受到破坏后，会对公民、法人和其他组织的合法权益产生特别严重损害，或者对社会秩序和公共利益造成严重损害，或者对国家安全造成损害; ④ 第四级，等级保护对象受到破坏后，会对社会秩序和公共利益造成特别严重损害，或者对国家安全造成严重损害; ⑤ 第五级，等级保护对象受到破坏后，会对国家安全造成特别严重损害。

以下哪种防火墙不能检测sql注入攻击 ？ A、 IPTABLES B、 下一代防火墙 C、 WAF(Web Application Firewall) D、 高层检测防火墙	A、 IPTABLES	netfilter/iptables（下文中简称为iptables）组成Linux平台下的包过滤防火墙，与大多数的Linux软件一样，这个包过滤防火墙是免费的，它可以代替昂贵的商业防火墙解决方案，完成封包过滤、封包重定向和网络地址转换（NAT）等功能。 iptables其实不是真正的防火墙，我们可以把它理解成一个客户端代理，用户通过iptables这个代理，将用户的安全设定执行到对应的”安全框架”中，这个”安全框架”才是真正的防火墙，这个框架的名字叫netfilter。 netfilter才是防火墙真正的安全框架（framework），netfilter位于内核空间。 iptables其实是一个命令行工具，位于用户空间，我们用这个工具操作真正的框架。 下一代防火墙，即Next Generation Firewall，简称NG Firewall，是一款可以全面应对应用层威胁的高性能防火墙。通过深入洞察网络流量中的用户、应用和内容，并借助全新的高性能单路径异构并行处理引擎，NGFW能够为用户提供有效的应用层一体化安全防护，帮助用户安全地开展业务并简化用户的网络安全架构。 Web应用防护系统（也称为：网站应用级入侵防御系统。英文：Web Application Firewall，简称： WAF）。利用国际上公认的一种说法：Web应用防火墙是通过执行一系列针对HTTP/HTTPS的安全策略来专门为Web应用提供保护的一款产品。

不属于SQL注入漏洞造成的危害的是（ ）。 

A、 获取服务器系统权限 B、 修改数据库内容或者插入内容到数据库 C、 脱库 D、 劫持会话	D	

想要知道服务器支持哪些请求方法，需要用到的方法是（ ）。 A、 HEAD B、 OPTIONS C、 TRACE D、 PUT	B、 OPTIONS	HTTP请求方法并不是只有GET和POST，只是最常用的。据RFC2616标准（现行的HTTP/1.1）得知，通常有以下8种方法：OPTIONS、GET、HEAD、POST、PUT、DELETE、TRACE和CONNECT GET方法：获取资源 POST方法：传输实体主题 PUT方法：传输文件 HEAD方法：获取报文首部 DELETE方法：删除文件 OPTIONS方法：询问支持的方法 HEAD方法跟GET方法相同，只不过服务器响应时不会返回消息体。一个HEAD请求的响应中，HTTP头中包含的元信息应该和一个GET请求的响应消息相同。这种方法可以用来获取请求中隐含的元信息，而不用传输实体本身。也经常用来测试超链接的有效性、可用性和最近的修改。

《刑法》第六章第286条:破坏计算机信息系统罪 违反国家规定，对计算机信息系统功能进行删除、修改、增加、干扰，造成计算机信息系统不能正常运行，后果严重的，处（ ）年以下有期徒刑或者拘役；后果特别严重的，处（ ）年以上有期徒刑。 A、 五 五 B、 一 三 C、 三 三 D、 三 五	A	
IPsec协议由一组RFC文档组成，定义了一个系统来提供安全协议选择、安全算法，确定服务所使用密钥等服务，从而在IP层提供安全保障。

主要包括（）。 A、 密钥管理协议Internet Key Exchange （IKE）协议 B、 Encapsulating Security Payload（ESP）协议 C、 网络安全协议Authentication Header（AH）协议 D、 点到点隧道协议（Point to Point Tunneling Protocol，PPTP）	ABC	IPsec，是一个协议包，通过对IP协议的分组进行加密和认证来保护IP协议的网络传输协议族。IPSec VPN支持外部单点对内部网络、 IPSec VPN不仅可以认证双方身份，还可以实现加密。 Psec主要由以下协议组成：认证头（AH）、封装安全载荷（ESP）、安全关联（SA）密钥协议（IKE）；AH无法穿越Nat，ESP则从理论上是可以穿越Nat的。 两种模式的区别在于 IP 数据报的 ESP 负载部分的内容不同。 隧道（tunnel）模式：隧道模式保护所有 IP 数据并封装新的 IP 头部，不使用原始 IP 头部进行路由。 传输（transport）模式：传输模式保护原始 IP 头部后面的数据，在原始 IP 头和 payload 间插入 IPSec 头部（ESP 或 AH）。
  
  《网络安全法》中规定，数据保护范围包括（ ）。 A、 商业秘密保护 B、 个人信息保护 C、 数据信息保护 D、 用户信息保护	ABD	

 根据《网络安全法》的规定，国务院和省、自治区。直辖有人民政府应当统筹规加大规入，扶特重点网络安全技术产业和项目，( )。

A、 保护网络技术知识产权 B、 推广安全可信的网络产品和服务 C、 支持企业、研究机构和高等学校等参与国家网络安全技术创新项目 D、 支持网络安全技术的研究开发和应用	ABCD	

因维护国家安全和社会公共秩序，处置重大突发社会安全事件的需要，经（ ）决定或者批准，可以在（ ）对网络通信采取限制等临时措施。	

XSS跨站漏洞带来的安全问题，包括（）。 A、 劫持用户会话，执行任意操作 B、 刷流量，执行弹窗广告 C、 传播蠕虫病毒 D、 盗取各种用户账号	ABCD	

操作系统日志的功能包括（）。 A、 系统还原 B、 溯源追踪 C、 评估审计 D、 故障处理	BC	

下列（）是文件上传功能常用的安全检测机制。 A、 服务端MIME检查验证 B、 目录验证 C、 服务端文件扩展名检查验证机制 D、 客户端检查机制JavaScript验证
ABCD	MIME(Multipurpose Internet Mail Extensions)多用途互联网邮件扩展类型。是设定某种扩展名的文件用一种应用程序来打开的方式类型，当该扩展名文件被访问的时候，浏览器会自动使用指定应用程序来打开。多用于指定一些客户端自定义的文件名，以及一些媒体文件打开方式。

操作系统安全配置内容包括（）。 A、 关闭服务 B、 补丁管理 C、 恶意代码防范 D、 用户账号权限管理	ABD	



#  攻和防

流量劫持是一种古老的网络攻击手段，在沉寂了一大段时间后，最近又开始闹的沸沸扬扬。众多知名品牌的路由器相继爆出存在安全漏洞，引来国内媒体纷纷报道。只要用户没改默认密码，打开一个网页甚至帖子，路由器配置就会被暗中修改，互联网一夜间似乎变得岌岌可危。

攻击还是那几种攻击，报道仍是那千篇一律的砖家安全提醒，以至于大家都麻木了。早已见惯运营商的各种劫持，频繁的广告弹窗，大家也无可奈何。这么多年也没出现过什么损失，也就睁只眼闭只眼。

事实上，仅仅被运营商劫持算是比较幸运了。相比隐匿在暗中的神秘黑客，运营商作为公众企业还是得守法的，弹窗广告劫持虽无节操但还是有底线的。这不，能让你看见广告了，也算是在提醒你，当前网络存在被劫持的风险，得留点神；相反，一切看似风平浪静毫无异常，或许已有一个天大的间谍潜伏在网络里，随时等你上钩 —— 这可不是弹广告那样简单，而是要谋财盗号了！

只有那些安全意识薄弱的才会被入侵。只要装了各种专业得牛逼闪闪的防火土啬，系统补丁及时更新升级，所有的密码都设置得很复杂，被入侵的肯定是轮不到我了。

的确，安全意识强的自然不容易被入侵，但那只对传统的病毒木马而已。而在流量劫持面前，几乎是人人平等的。网络安全与传统的电脑操作系统安全不同，网络是各种硬件设备组合的整体，木桶效应尤为明显。即使有神一样的系统，但遇到猪一样的设备，你的安全等级瞬间就被拉低了。现在越来越流行便宜的小路由，它们可是承载着各种网银、支付宝等等真金白银的交易流量，你能放心使用吗？

即使你相信系统和路由器设备等都绝对可靠，就能高枕无忧了吗？事实上有问题的设备并不多，但出问题的事却不少，难道其中还存在什么缺陷？没错，还遗漏了最重要的一点：网络环境。

如果网络环境里有黑客潜伏着，即使有足够专业的技术，是在所难逃了，敌暗我明，稍不留神就会落入圈套。当然，苍蝇不叮无缝的蛋。有哪些隐患导致你的网络环境出现了裂缝？太多了，从古到今流行过的攻击方式数不胜数。甚至可以根据实际环境，自己创造一种。现在回忆下尝试过的劫持案例。

上古时代：
Hub 嗅探
MAC 欺骗
MAC 冲刷
ARP 攻击
DHCP 钓鱼
DNS 劫持
CDN 入侵
中世纪：
路由器弱口令
路由器 CSRF
PPPoE 钓鱼
蜜罐代理
工业时代：
WiFi 弱口令
WiFi 伪热点
WiFi 强制断线
WLAN 基站钓鱼
Hub 嗅探
集线器（Hub）这种设备如今早已销声匿迹了，即使在十年前也少有人用。作为早期的网络设备，它唯一的功能就是广播数据包：把一个接口的收到的数据包群发到所有接口上。且不吐槽那小得惊人的带宽，光是这转发规则就是多么的不合理。任何人能收到整个网络环境的数据，隐私安全可想而知。

Hub 集线器
嗅探器成了那个时代的神器，只要配置好过滤器，不久就能捕捉到各种明文数据，用户却没有任何防御对策。
防范措施：还在用的赶紧扔了吧。

这种设备目前唯一可用之处就是旁路嗅探。利用其广播的特性，可以非常方便用于分析其他设备的通信，例如抓取机顶盒的数据包而不影响正常通信。

MAC 物理地址欺骗
交换机的出现逐渐淘汰了集线器。交换机会绑定 MAC 地址和接口，数据包最终只发往一个终端。因此只要事先配置好 MAC 对应的接口，理论上非常安全了。

交换机

不过，很少有人会那么做，大多为了偷懒，直接使用了设备默认的模式 —— 自动学习。设备根据某个接口发出的包，自动关联该包的源地址到此接口。然而这种学习并不智能，甚至太过死板，任何一个道听途说都会当作真理。用户发送一个自定义源 MAC 地址的包是非常容易的，因此交换机成了非常容易被忽悠的对象。只要伪造一个源地址，就能将这个地址关联到自己的接口上，以此获得受害者的流量。

交换机
不过，受害者接着再发出一个包，绑定关系又恢复原先正常的。因此只要比谁发的频繁，谁就能竞争到这个 MAC 地址的接收权。如果伪造的是网关地址，交换机就误以为网关电缆插到你接口上，网络环境里的出站流量瞬间都到了你这里。

当然，除非你有其他出站渠道，可以将窃取的数据代理出去；否则就别想再转发给被你打垮的真网关了，被劫持的用户也就没法上外网。所以这招危害性不是很大，但破坏性很强，可以瞬间集体断网。

防范措施：机器固定的网络尽量绑定 MAC 和接口吧。貌似大多数网吧都绑定了 MAC 和接口，极大增强了链路层的安全性。同时，独立的子网段尽可能划分 VLAN，避免过大的广播环境。

大学里见过千人以上还不划分 VLAN 的，用一根短路网线就可以毁掉整个网络。

MAC 冲刷
之前说了集线器和交换机的转发区别。如果交换机发现一个暂时还未学习到的 MAC 地址，将会把数据包送往何处呢？为了不丢包，只能是广播到所有接口。

MAC 冲刷
如果能让交换机的学习功能失效，那就退化成一个集线器了。由于交换机的硬件配置有限，显然不可能无限多的记录地址对应条目。我们不停伪造不重复的源地址，交换机里的记录表很快就会填满，甚至覆盖原有的学习记录，用户的数据包无法正常转发，只能广播到所有接口上了。

MAC 冲刷
防范措施：还是 MAC 和接口绑定。一旦绑定，该接口只允许固定的源地址，伪造的自然就失效了。当然，好一点的交换机都有些策略，不会让一个接口关联过多的 MAC 地址。

曾经在家试过一次，捕捉到小区内用户上网的流量。不过伪造包发的太快，~15万包/秒，更致命的是发错目标地址，发到城域网准入服务器上，导致工作人员切断了整个小区半天的网络... 所以必须得选一个 VLAN 内的、并且实际存在的地址做为目标 MAC，以免产生大量的数据风暴。

ARP 攻击
这种攻击大家几乎都听出老茧了，即使不懂电脑的人也知道装个 ARP 防火土啬 保平安，其危害之大可想而知。简单的说，ARP 就是广播查询某个 IP 对应的 MAC 地址，在用这个 IP 的人回个声。知道这个 IP 对应的 MAC 地址，就可以链路通信了（链路层只能通过MAC地址通信）。

ARP请求
如果有人冒充回复，并抢在正常人之前，伪造的答案也就先入为主。IP 被解析到错误的地址上，之后所有的通信都被劫持了。

ARP 劫持
事实上，早期的系统还有个更严重的BUG：直接给用户发送一个 ARP 回复包，即使对方从没请求过，系统也会接受这个回复，并提前保存里面的记录。这种基于缓存的投毒，让劫持成功率更上一层楼。

ARP回复
防范措施：由于这种攻击太过泛滥，以至大部分路由器都带了防 ARP 攻击的功能。客户端的 ARP 防火土啬也数不胜数，似乎成了安全软件的标配。当然，系统也支持强制绑定 IP 与 MAC 的对应，必要时可以使用。

很多教程都是用 Wireshark 来演示，事实上当年有一款叫 Iris 的软件非常好用，可以修改封包再次发送，用它可以很容易搞明白各种攻击的原理。不过N年没更新了还不支持64位的。

DHCP 钓鱼
现实中，并不是每个人都会配置网络参数，或者出于方便，让网络系统自动配置，自动分配IP地址设置DNS等。出于这个目的，DHCP 服务诞生了。

由于没有配置IP地址、网关、DNS 等，在网络上是寸步难行的，因此首先需要从 DHCP 那获得这些信息。然而，既然连 IP 地址都没有，那又是如何通信的？显然，只能发到广播地址（255.255.255.255）上，而自己则暂时使用无效的IP地址（0.0.0.0）。（事实上，链路层的通信只要有 MAC 地址就行，IP 地址已属于网络层了，但 DHCP 由于某些特殊需要使用的是 UDP 协议）

因为是发往广播，内网环境里的所有用户都能听到。如果存在多个DHCP服务器，则分别予以回复；用户则选择最先收到的。由于规则是如此简单，以至于用户没有选择的余地。

DHCP 广播
尚若黑客也在内网里也开启了 DHCP 服务，用户收到的回复包很可能就是黑客发出的，这时用户的网络配置完全听天由命了，不想被劫持都难了。

DHCP劫持
防范措施：如果是用网线上网的话，最好还是手动的配置。当然，管理员应该严格控制 DHCP 回复的权限，只允许交换机特定的接口才有资格发送回复包。

只要是这类提问/抢答模式的，都面临被冒充回答的风险。很多原理都类似。

DNS 劫持
如同 ARP 将 IP 解析成 MAC 地址 一样，DNS 负责将域名解析成 IP 地址。作为网络层的服务，面对的用户更广泛，当然面临的风险也大的多。一旦遭到入侵，所有用户都倒霉了。近些年的重大网络事故无不和 DNS 有关。

DNS 服务一旦被黑客控制，用户发起的各种域名解析，都将被暗中操控。将正常网站解析成黑客服务器的 IP，并事先开启了 HTTP 代理，用户还是能正常上网，并且几乎看不出任何破绽；只不过所有流量都是经由黑客的代理服务器收发的，因而黑客可以轻易获取各种明文传输的密码，比如各种网站账号信息都将一览无余。

DNS 劫持
由于 DNS 服务器的重要性，现实中通常有着较高的安全防护，想入侵它系统不是件易事。但实际未必如此兴师动众，一些 DNS 程序本身就存在着设计缺陷，导致黑客能控制某些域名的指向。其中最恶名昭彰的当属 DNS 缓存投毒。

大家或许已发现，域名->IP->MAC->接口，只要是动态查询的就会多一个环节，风险自然增加。灵活性与安全性始终是不可兼得。
防范措施：手动设置一些权威的 DNS 服务器，例如谷歌的 8.8.8.8，4.4.4.4 会靠谱的多。

公网上的 DNS 劫持很少发生，但家用路由器的 DNS 劫持已泛滥成灾了。开头报道的路由器漏洞，最终的利用方式也就是修改了 DNS 地址。

CDN 入侵
CDN 能加速大家都知道，但其中原理不少人都不清楚。其实，CDN 本身就是一种 DNS 劫持，只不过是良性的。不同于黑客强制 DNS 把域名解析到自己的钓鱼 IP 上，CDN 则是让 DNS 主动配合，把域名解析到临近的服务器上。这台服务器同样也开启了 HTTP 代理，让用户感觉不到 CDN 的存在。

不过 CDN 不像黑客那样贪心，劫持用户所有流量，它只『劫持』用户的静态资源访问，对于之前用户访问过的资源，CDN 将直接从本地缓存里反馈给用户，因此速度有了很大的提升。然而，只要是有缓存的地方，都是大有可为的。一旦 CDN 服务器遭受入侵，硬盘上的缓存文件就岌岌可危了，网页被注入脚本，可执行文件被感染，一大波僵尸即将出现。

CDN 入侵
防范措施：感觉运营商不靠谱的话，换个第三方不带加速的 DNS，或许就不会解析到 CDN 服务器上了。

不少 CDN 黑白通吃，为了省流量不按套路出牌，超过了缓存时间也不更新，甚至还有忽略 URL 问号后面的，导致程序猿们在资源更新的问题上头疼不已。

路由器弱口令
当电脑价格一再下降，到了大家打算买第二台的时候，路由器市场也随之火热起来。但由于繁琐的配置，差劲的用户体验，至今仍有相当部分的用户不明白如何配置路由器。192.168.1.1 和 admin/admin 几乎成了国内路由器的常量。多少回，用这毫无技术含量的方法进入网吧或图书馆的路由器后台。

如果有人恶搞重启路由，或者给他人限速，你得感谢他的仁慈，这都算不严重。要是把路由器的DNS给改了，那就相当严重了！公网的 DNS 劫持一般不会持续太久，但路由器的 DNS 劫持也许长年累月都不会觉察到。

事实上，不乏一些安全意识强的用户也使用默认密码。理由很简单，目前的路由器有两道门槛：一个 WiFi 连接密码，另一个才是管理密码。很多人设置了复杂的 WiFi 密码就高枕无忧了，心想都连不到我的网络里怎么可能进的了后台？

之前我也有过这观念，但总觉不对劲：万一家里其他电脑或手机中毒了，自动尝试用弱口令爆进路由器后台怎么办。城门都被占领了，城土啬再牢固又有何用。

路由器弱口令
事实上，黑客除了修改 DNS 配置外，还有更恐怖的行为：升级路由器的固件 —— 替换成一个看似完全相同但植入了恶意程序的固件！尽管这目前还尚未普及，然而一旦流行，大批路由器将成为潘多拉魔盒。

防范措施：千万别轻视路由器的密码，其实它比你所有账号都重要。

不改默认密码的用户，神都保佑不了你~

路由器 CSRF
回到本文开始所说的，为什么有那么多路由器会出现这个漏洞呢？也许是路由器的开发人员太高估用户了，认为绝大多数用户都会去修改了默认密码，因此 CSRF 几乎难以产生。事实上，国内网民的安全意识远超他们的想象。加上刚才说的，只设置了 WiFi 密码而忽略了管理密码，导致一个恶意程序就能悄悄进入路由器后台。没想到现在这种病毒还真出现了，而且居然还是 Web 版的！

路由器 CSRF
CSRF 漏洞让病毒木马都用不着了。用户直接访问一个网页，甚至是一帖子，浏览器就会自动向路由器发起修改配置的请求。由于国产路由器的网页开发是如此的差劲，登录基本都是用既不安全又丑陋的 HTTP 401 弹框。这种登录只需在 URL 里填上『用户名:密码@』即可自动通过，即使登录失败也不会有什么提示。

防范措施：绝对要看管好路由器密码，并且定期去检查配置是否被篡改。

看过路由器页面源代码会发现，那简直是惨不忍睹，甚至还是 IE5 时代的风格。路由器芯片都是采购的，内核也有开源的，所谓的『自主研发』就是做了那几个页面？

PPPoE 钓鱼
好了，不吐槽路由器了，下面说说再高级的路由器也无法避免的事。除了一些大公司或学校，用的是固定的专线接入上网，个人或者小组织很少会使用这种土豪级套餐，只能老老实实的拨号上网 —— 无论是电信，还是网通铁通各种通。

不少人都存在误区，认为拨号是物理信号的建立过程，在没有拨上之前，点对点是不通的。如果真是这样，那么拨号时账号密码是如何传过去的呢？显然不可能。事实上，终端之间时刻都是畅通的，只不过不拨号就无法得到IP、网关、会话等参数，即使强制把包发给网关，人家虽能收到，但没有认证的会话是不予理睬的，你自然没法上网。

PPPoE，大家经常在拨号时看到这词。Point-Point Protocol over Ethernet，故名思议，就是点对点的协议：用户发送账号密码认证给终端（BRAS），并得到上网 IP、网关地址、会话等。而且协议是基于以太网的，哪怕线路不是，也得想办法把数据封装进去。

传统的 ADSL 是通过电话线上网的，于是需要一个『猫』来把以太网数据调制成电话信号，最终通过电信交换机传输。这种设备保障每家每户都是独立的，以免电话信号被窃听。

然而，后来兴起的各种通就不一定了。不少打着的『千兆到楼，百兆到家』的宽带，就是建了N个小区局域网，然后合并到一个大的城域网（MAN）里。所谓的『百兆』，无非就是拖进你家的那根网线插在楼下一个 100Mbps 的交换机上而已。

用过网通的都知道，百兆带宽并没有快到哪里，甚至在一些南方地区网速慢如蜗牛。但在下载的时候，却能轻松飙到数兆每秒。这时局域网的作用就发挥出来了，如果附近有多个人在看同样的视频，P2P 就直接在内网里共享流量了，大幅减轻了节点的压力。

但是，整个小区成了一个局域网，是多么的不安全。有时甚至不合理的 VLAN 划分，导致多个小区成一内网。要是有人开启 DHCP 服务，其他用户插上网线就能上网了，连拨号都不用，难道天上掉馅饼了？如果敢吃，那可能就落入黑客的陷阱了。

当然，现在直接插网线的并不多，基本通过路由器自动拨号了。但他们的协议都是一样的 —— PPPoE，一种极不安全的协议。

类似 DHCP 协议，PPPoE 也是通过广播来探寻有哪些可用的终端，意味着整个小区的内网用户都能收到；同时探寻包一直往上冒泡，直到被城域网的终端们收到，然后开始纷纷回应。

PPPoe广播
如果小区里有人私自开启一个 PPPoE 终端服务，显然是最先被收到的。真正的回应包还在大街小巷里传递着，用户和黑客已经开始协商认证了。

PPPOE钓鱼
不过或许你会说，这必须有人拨号才能上钩，现在都用路由器，长年累月不会断开。如果不想耐心等，也有很简单的方法：来一次集体掉线。刚刚说过，可以用短路的网线，引发一场广播风暴。不过这太过暴力了，甚至会引起流量异常的报警。我们可以使用更简单有效的方法：MAC 欺骗，不停伪造终端服务器的 MAC 地址，就可以将小区用户的数据包统统吸过来了。

PPPoE 使用的是一种隧道方式，将任何数据都封装在其栈下，因此捕捉到用户任意一个包，即可得到 PPPoE 栈上的会话 ID。然后冒充终端，向用户发送一个『断开连接』的指令，用户就乖乖下线了。使用这种方法，分分钟就能让整个小区的用户重新拨一次号，于是可以快速钓鱼了。

还有更糟的是，PPPoE 绝大多数时候都是明文传输用户名和密码的，因此还能额外获得用户发来的认证账号。

前面吐槽了大学寝室楼 1000 多机器还不划 VLAN 的，于是写一个简单的 PPPoE 模拟器，就能轻松抓到整个网络环境里的上网账号。（还支持一键全都拨上，集体下线的恶作剧功能~）

盗上网账号
防范措施：由于 PPPoE 的安全严重依赖物理层，所以尽量不要装以太网接入的宽带。当然，管理员们应该严格限制 PPPoE 搜寻回复包，就像 DHCP 那样只允许特定接口出现。事实上小区内部是不可能出现 BRAS 服务器的，因此只允许交换机的 WAN 口出现回复包，那样就不容易被钓鱼了。

PPPoE 还有个更严重 BUG，会话 ID 只有 2 字节，最多 65536 种可能。事先构造个『拨号断开』的请求包，接着把会话 ID 依次遍历一下，就能让某个终端服务器的所有用户下线。如果事先收集好所有终端服务器地址，可以发起一次全城断网- -

这个 BUG 应该早已经修复了，只需绑定 <会话 ID，用户 MAC，小区 VLAN-ID> 关系即可。而且一个小脚本就能断开全城各县市的网络，说明终端部署不能太过集中。

蜜罐代理
由于众所周知的原因，某国对代理的需求居高不下。不管黑的白的，透明的还是高匿的，只要能翻出去就是好的。** 需要用户名密码以及各种认证，中途被劫持几乎是不可能的。黑客抓住了人们的纯真的心里，将目光转到代理上面。的确，加密后的数据中途确实难以劫持，但最终仍要在服务端还原出真实内容吧。如果一时大意，连接了某个免费的 **，或许就登上了黑客的贼船了。

相比 HTTP 代理只影响部分功能，** 将整个系统的流量都通过穿越过去了。而这一切应用程序并不知晓，仍然将一些重要的数据往外发送，最终被黑客所劫持。

蜜罐代理

防范措施：不要贪图小利，用那些打着免费幌子的代理。天下没有免费的午餐。

很多蜜罐代理未必是黑客布下的，而是你懂的。

WiFi 弱口令
当互联网延伸到移动设备时，网线成了最大的累赘，无线网络逐渐进入人们视野。如今，由于无线的廉价和便利，几乎应用到所有的便捷设备。一切都不再受限制，人们可以随时随地上网，这是过去难以想象的；黑客也可以随时随地发起攻击，这是过去梦寐以求的。

但无论上网方式如何变化，以太网始终是网络的核心。如同刚才说的 ADSL，尽管载体是电话线路，但最终解调出来的仍是以太网数据。WiFi 也一样，无论电波怎样传播，最终只有还原出标准的以太网封包才能被路由。

无线网络形同一个看不见的巨大集线器，无需任何物理传播介质，附近所有人都可以收听数据信号，专业设备甚至能在更远处直接捕获。如果没有一种强有力的加密方式把数据封装起来，那么就毫无隐私可言了。

在经历了各种加密被攻破后，WPA2 如今成为无线网络标准加密算法。如果企图通过传统爆后台那样，一次次的尝试弱口令去连接，那效率将是何其的低下。

和拨号不同，WiFi 用户首先需『关联』热点，以建立起物理通道。类似 PPPoE 那样，WiFi 在认证之前也是可以通信的，并且是明文数据 —— 不过，这仅仅是认证数据包明文而已，真正密码显然不会出现在其中。毕竟它和拨号的目的完全不同：一个是为了加密之后所有的流量，而后者仅仅识别下你有没有上网的权限。

通过传统的嗅探工具，可以方便获取这些握手通信包。尽管找不出密码，但里面保存着密钥初始化相关的数据。通过专业的 WPA2 破解工具，加上丰富的密码字典，有相当一部分的无线网络，能在可接受的时间里被破解。

WiFi 弱口令
对于不少人来说，无线密码是他第一道也是唯一一道防线。连上之后，不出意外即可轻易进入路由器后台，然后就可以控制他整个内网的流量了。

防范措施：最简单也是最有效的方法：给密码加些特殊符号。

如果给他的路由器刷一个固件，能自动破解其他的无线网络，破解之后自动进后台，自动给它升级自己的固件。。。排山倒海的路由器木马爆发了。

WiFi 热点钓鱼
上面简单的说了无线密码的破解。但若本来就知道密码的情况下，又如何发起入侵呢？这种场合很常见，在一些商场、餐厅、旅馆等地方，无线网络即使有密码，大家一般也能在土啬上或卡片上找到，处于半公开的状态。或者是破解了邻居的无线密码，但无法进入路由器后台，又该如何继续？

如今越来越智能的无线设备，已能很好的防御诸如 MAC 欺骗以及 ARP 攻击这类原始入侵了，因此需要一个更先进和隐蔽的方式，能绕过网络设备，直接发起点对点的进攻。

在大公司或大商场上过无线网的用户会发现，在室内无论走到哪里网络都存在，即使从一层到五层信号照样满格，而在自己家中信号隔土啬就下降不少。难道是开了信号特别强大的热点吗？但在建筑外面却收不到。事实上，不难发现每层楼天花板上，都吸附着不少盘子似的东西。没错，正是这些分布在各处的设备，覆盖了整栋楼的无线网络，让信号死角变得更少。

但是同时存在那么多热点，搜索列表里显示的却没有几个。因为他们都有着同样的热点名（SSID），客户端通常会将同名热点合并成一个。至于连接时，系统会选择信号最好的那个。如果这些热点的认证方式也是相同的，无论连哪个都没问题。

WiFi 热点钓鱼
仔细揣摩这条特征，不难发现其中大有文章可做 —— 这不天生就为我们钓鱼准备的！我们再开一个同名同认证的伪热点，只要在信号上压倒对方，钓上附近的鱼儿那是妥妥的。

WiFi 钓鱼
目前几乎还没有哪个客户端对此有防御，无论是商场还是咖啡店，甚至是一些大公司里，对此也束手无策。原因很简单，问题既不出在设备、也不是部署上，更不能归咎与用户。这是整个协议栈的弱点。

发起此攻击的唯一材料，就是一个超大功率的热点，以此来压倒正常的，争做用户『最信赖』的信号源。其实，每个热点都时时刻刻广播着一种叫 Beacon 的数据包，里面带有热点名等相关的信息。用户网卡收集之后进过筛选分析，即可得知附近有哪些热点，各自信号如何。功率大的热点，用户接收时的信号强度（RSSI）自然也会高一些。

当然，过高的信号源可能会引起一些监控的警觉，自己也被置于巨大的辐射之中。如果仅仅是对某个方位片杀，使用定向天线会有更好的效果。不过，光有发射能力还是不够的。即使能把 Beacon 推送到数十公里外，让全城都能看见你的热点名，但前来连接的设备可没有那么强劲信号。因此没有一个高灵敏的接收系统，再强的信号也只是一厢情愿罢了。

防范措施：因为是底层的缺陷，这种劫持通常很难防护。从理论上说，热点通常是固定着的，因此可以事先记录下每个热点的3D坐标，然后根据 WiFi 定位时刻监控热点位置，如果某个热点信号出现在远离事先的地方，很可能是钓鱼热点发出的假信号。

但在现实中，要同时追踪那么多设备并不容易。除非所有的无线设备，都自带监控附近热点的功能，那样可以节省大量追踪成本。不过在安全性高的场合，还是使用『接入认证』，连接时要求输入用户名和密码来准入。

用户成功连上 WiFi 后，导致网络状态发生改变，一些系统会尝试请求某个特定的 URL，如果返回的是 HTTP 302，会自动弹出重定向后的网页。目的是为了方便打开网页版的准入，有时连上 CMCC 会自动弹出一个登录网页就是如此。iOS，Android，WP 都支持，MacOS 最新版弹出的网页不会执行脚本了。利用这个废功能来弹广告应该很不错~

WiFi 强制断线
不得不说 WiFi 的另一个缺陷 —— 被下线。类似 PPPoE 主动或被动断开拨号时都有一个注销包，WiFi 也一样。之前提到，遍历 PPPoE 的会话ID，冒充所有用户发出注销请求，可以断开全城的网络。WiFi 也有类似的缺陷，只不过正好反过来：冒充热点，向所有用户广播注销包，于是所有连着该热点的用户都下线了。

WIFI 强制断线
不过，WiFi 的被下线仅仅是认证被注销，用户和热点仍是关联着的。用户接着重新发起认证，因此又给黑客一个获取握手数据的机会。如果广播持续不断，用户也就一直没法上网，屏幕上会不停的闪烁着『连接中... / 已断开』。对方可能会尝试重启路由，但发现问题仍在，而且所有设备都是这情况，会认为路由器出问题了，于是尝试恢复出厂设置 —— 这一刻，危险降临了！

照国产路由器的风格，出厂时 WiFi 是没有密码的，而且后台基本是弱口令。因此有个非常短暂的安全缝隙，能钻入这台设备并拿下他的网络！如果事先写好脚本，一旦发现有开放的热点，立即连上并且爆入后台，更是可以直接秒杀！对方刚恢复完路由器，还没回到电脑前就已被劫持了，这是无论如何也想不到的。。。

当然，为了防止他之后进入路由器改密码，你必须立即隐藏 SSID，让 Beacon 不再发出，这样大家都看不见这台设备了，只能通过 BSSID（路由器 MAC 地址）来连接。但是人家会有疑问，刚恢复好的路由器怎么看不见？这时得事先建立一个用于钓鱼的假热点，名字和那被隐藏的 SSID 一样，将对方引诱到自己的蜜罐上。

在这个蜜罐里开启一个和路由器页面差不多的站点（可以直接反向代理他路由器的页面），拖住用户，让你有充足的时间来操作那台被隐藏的真设备。甚至可以换掉他固件了！当然，有些设备不让轻易更新固件，需要输入路由器上的某个号码，或者按一个键才能开始。这时得发挥蜜罐站点的作用了，你可以在页面上画个文本框，提示他输入路由器上的那号码，或者直接让他去按那按钮。由于路由器后台太过专业，很少会有人质疑它的权威性，几乎都是按部就班。

路由器蜜罐

事实上，你的蜜罐一直开着，对方肯定会在里面配置 WiFi 密码和管理密码，以及 PPPoE 账号。于是他的一切上网秘密都被掌控！即使不改他路由器也无所谓了，以后可以随时进入。

防范措施：不要轻易恢复路由器的出厂设置。真有必要请务必留神，尽快改掉默认密码。即使周围没有黑客，一些中毒的设备随时可能来连上并爆进后台窜乱。

软硬兼施，这招是不是太阴了？稍微用一点心理学或是社会工程学，原本不怎么严重的漏洞可以扩大很多倍。

WLAN 基站钓鱼
前面说的热点钓鱼，只能在特定的场合下进行。劫持 KFC 的用户，只能在 KFC 附近；入侵小区的路由，只能在家完成。这极大的限制了攻击范围，完全没有发挥出无线网络的灵活性。然而有一种网络，无论走到哪都能收到。打开手机，总能看见 CMCC 这类热点如同幽灵一般存在。如今，WLAN 业务已遍地开花，几乎覆盖了全国各地。它支持更高的频段，并向下兼容 WiFi，设备遍布全城，试图打造一个无线城域网。唯一的遗憾是收费的，而且信号也一般，远不如 3G 实用。

有时我们并没有连接这些热点，系统却自动连上了。原因很简单，之前某个时候手贱，去连过它们。而系统会保存主动连过的热点，再次出现时就自动上了。事实上，去连过这些热点的人不在少数。不用说，你也想到开热点钓鱼了。并且用户几乎都是用 WiFi 来连接，也就没有必要使用 WLAN 设备。使用之前的大功率热点，取个 CMCC 的名字，放在阳台上对着大街，不一会就连上一堆用户了。要是支持虚 AP 的话，把 CMCC-AUTO，ChinaNet 等等这些名字全部用上，前来光临的就更多了。

上面提到了，不少设备连上 WiFi 后能自动弹网页，利用这个特性，钓鱼就更容易了。大多手机系统为了节省流量，当 WiFi 和 3G 同时可用时，会优先使用 WiFi，于是用户的流量不知不觉流到黑客那里。

WLAN 钓鱼
事实上，我们还可以把整套钓鱼方案集成到 Android 设备里。利用手机创建的热点吸引附近的用户，捕捉到的流量还可以通过自己的 3G 网络代理出去。使用 Linux 内核强大的转发机制，我们可以轻易的控制用户的各种流量。以后可别嘲笑街上低头玩手机的人，人家说不定正在劫持你呢。不过，在一些地方例如地铁上面，3G 信号很差，难以将热点收到的数据转发出去，因此只能钓鱼无法劫持。这种单机模式是否仍能入侵呢？下篇文章将叙述，如何发起离线钓鱼。

防范措施：WiFi 不用就应及时关闭，以免自动连上不安全的热点。对于一些长期不用的连接记录，不如趁早删了吧。

安卓热点默认只支持 10 个用户，在街上开个叫 CMCC 的热点，会发现瞬间就连满了。所以还是把笔记本藏书包里，配几个好点的无线网卡，既隐蔽效果也好。大功率天线虽然很过瘾，但不能过度使用，说不定哪天就被查水表了~

结尾
这次就先谈到这里吧，这些只是之前尝试过真实有效的案例，事实上还有太多的途径，要是再算上系统内部的方式那就无数了。但不论如何变化，流量劫持的最终利用方式几乎是如出一辙的 —— 利用它能做些什么呢？终极危害能

网络渗透过程
网络渗透主要分为三个阶段，准备阶段、实施阶段和善后阶段，这三个阶段都不可少，都是必备的部分，故不可忽视任何一个部分。

渗透环境：Kali Linux（十星推荐使用，自带非常多的hack工具，同时inux环境下很多相关shell用的很舒服）

准备阶段
准备阶段是整个网络渗透能否成功的前提。在这个过程中，要尽可能的搜集关于网站站点的信息，在另外一篇博客《座位管理渗透》中有详细的过程，这里不赘述，只是提一下需要搜集的工具和信息。

相关信息搜集
网站域名的相关信息（包括注册人，地点，注册时间等有价值的信息）
网站服务器的相关信息（地理位置，注册人，注册时间，电话等）
搜集系统信息包括 OS 版本、Linux内核版本
采用服务器软件的版本和信息（Apache、Nginx、Tomcat等）
服务器开放的端口 （80,443,3306,3389等）
网站是否采用防火墙WA的检测
网站是否使用了什么前后端框架（MVC或MVVM，或者具体的信息，Django、laravel、Vue、jQuery、flask等，）track：检测前后端的debug模式是否开启
阅读网站前端源代码，从源代码中找到相关的信息
常见漏洞扫描和分析
在进行相关信息搜集之后，开始进行漏洞的分析查找

常见漏洞的扫描包括但不限于：

XSS跨站脚本攻击（有请求时或输入请求时可尝试，多是利用cookie）
CSRF请求伪造（条件比较难，需要用户点击恶意链接）
Clickjacking点击劫持（需要用户点击恶意链接）
SQL注入攻击（可尝试，但现在利用框架很多，漏洞比较少）
文件上传漏洞（如果有漏洞，就非常的爽，直接上传木马）
访问控制，绕过管理员权限（认证时间等）
加密算法的破解（比较难，稍微了解下）
暴力破解密码……（确实比较暴力，但是对于某些防范不好的网站比较有用）
各种版本问题，OS，服务器软件版本，服务器语言版本，如果比较老的话，可以在相关漏洞库找到可以利用的漏洞
利用开放的端口，有些服务器开放的多余的端口可以加以利用（不是特别了解有的特定端口，遇到特定端口请google）
代码审计……阅读可以获取到的部分源码来渗透，如果有多个站点是同一团队也许可以阅读该团队或人写的特定代码来进行代码风格的猜测从而加以利用
实施攻击
以上提到的这么多的漏洞，可以加以利用
其他攻击方式：
缓冲区溢出（并没有机会尝试过）
缓冲区溢出是一种非常普遍、非常危险的漏洞，在各种操作系统、应用软件中广泛存在。利用缓冲区溢出攻击，可以导致程序运行失败、系统宕机、重新启动等后果。更为严重的是，可以利用它执行非授权指令，甚至可以取得系统特权，进而进行各种非法操作。

DOS、与DDOS拒绝服务攻击（你如果有可以利用的肉鸡。。或服务器，我用不上这种攻击方式）
木马、病毒、蠕虫攻击…（看你是否需要）
善后阶段
善后阶段也就是隐藏踪迹，不被网站管理员等发现，主要有两种方式。

跳板技术
在进行渗透的时候，使用自己的主机直接攻击另外一台设备比较愚蠢。所以需要借助跳板，举个例子，使用自己的主机挂一个境外的VPN（别实名…邮箱等信息），然后3389端口连接远程肉鸡的桌面，利用肉鸡，xshell连接远程服务器，然后在shell里进行渗透，跳板层数越多，追查起来就越复杂。

当然，你也可以在二手市场买一个旧电脑，在没有摄像头的地方连接公共wifi进行渗透，哈哈，然后电脑丢掉就行。

日志修改
入侵之后对入侵的主机进行操作肯定会有相关的日志记录，所以需要修改日志来隐藏痕迹，介绍两个看到的比较好的方法

第一个是上传日志清除工具

第二个是在入侵时备份所有可能修改的日志，然后离开时还原日志，可以自己写成一个shell比较方便，定制

那句诗怎么说的：

天空不留下鸟的痕迹，但我已飞过

好用的工具
Who.is 查询DNS记录

Sameip.org查询域名绑定的服务器

namp扫描OS、port、WAS等类似的SuperScan 、X-scan

DirBuster来进行网站文件包含漏洞的扫描，搜集文件和文件夹信息

OWASP ZAP和Nikto工具，进行常见漏洞的扫描

sqlmap进行SQL注入的扫描

Hydra进行密码暴力破解

antSword进行webshell连接

Burp Suite抓包分析

工具只是工具，不要被工具所束缚住，要做一些工具做不到的事情……作为一个渗透着，要学会从各个角度
